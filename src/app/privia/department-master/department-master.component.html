<div class="body">
    <div class="patient-heading">
        <h3>Department master</h3>
    </div>
    <form [formGroup]="departForm">
        <div class="row">

            <div class="col-lg-3">
                <label for="usr">Vital Dept:</label>
                <select class="form-control" formControlName="vitalDepartment" name="vitalDepartment"
                    [(ngModel)]="departModel.vitalDepartment">
                    <option>--select--</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                </select>
            </div>
            <div class="col-lg-3">
                <label for="usr">Name:</label>
                <input type="text" class="form-control" formControlName="name" name="name"
                    [(ngModel)]="departModel.name">
            </div>
            <div class="col-lg-3">
                <label for="usr">Short Name:</label>
                <input type="text" class="form-control" formControlName="shortName" name="shortName"
                    [(ngModel)]="departModel.shortName">
            </div>
            <div class="col-lg-3">
                <label for="usr">Order:</label>
                <input type="text" class="form-control" formControlName="order" name="order"
                    [(ngModel)]="departModel.order">
            </div>
            <div class="col-lg-3">
                <label for="usr">Report:</label>
                <input type="text" class="form-control" formControlName="report" name="report"
                    [(ngModel)]="departModel.report">
            </div>

            <div class="col-lg-3">
                <label for="usr">Valid From:</label>
                <input type="date" class="form-control" formControlName="validFrom" name="validFrom"
                    [(ngModel)]="departModel.validFrom">
            </div>
            <div class="col-lg-3">
                <label for="usr">Valid To:</label>
                <input type="date" class="form-control" formControlName="validTo" name="validTo"
                    [(ngModel)]="departModel.validTo">
            </div>

        </div>
        <div>
            <section class="example-section">
                <mat-checkbox class="example-margin" formControlName="SC" name="SC" [(ngModel)]="departModel.SC">SC
                </mat-checkbox>
                <mat-checkbox class="example-margin" formControlName="SR" name="SR" [(ngModel)]="departModel.SR">SR
                </mat-checkbox>
                <mat-checkbox class="example-margin" formControlName="inactive" name="inactive"
                    [(ngModel)]="departModel.inactive">In active</mat-checkbox>
            </section>
        </div>
        <div class="buttons">
            <button class="btn" mat-button [disabled]="saveDisabled" (click)="saveDept()">SAVE</button>
            <button class="btn" mat-button [disabled]="updateDisabled" (click)="updateDept()">UPDATE</button>
            <button class="btn" mat-button (click)="clearDept()">CLEAR</button>
        </div>
    </form>

    <div class="mat-table">
        <div class="mat-elevation-z8">

            <table class="table  table-hover ">
                <thead>
                    <tr>
                        <th >S.no
                        </th>
                        <th (click)="sortEvent('vitalDepartment')">Vital Name
                         <i class="fa fa-chevron-up" *ngIf="sortDirection === 'ASC' && sortvalue === 'vitalDepartment'" ></i>
                         <i class="fa fa-chevron-down" *ngIf="sortDirection === 'DASC' && sortvalue === 'vitalDepartment'"></i></th>
                        <th (click)="sortEvent('name')">name
                         <i class="fa fa-chevron-up" *ngIf="sortDirection === 'ASC' && sortvalue === 'name'" ></i>
                         <i class="fa fa-chevron-down" *ngIf="sortDirection === 'DASC' && sortvalue === 'name'"></i></th>
                        <th (click)="sortEvent('shortName')">short_name
                         <i class="fa fa-chevron-up" *ngIf="sortDirection === 'ASC' && sortvalue === 'shortName'" ></i>
                         <i class="fa fa-chevron-down" *ngIf="sortDirection === 'DASC' && sortvalue === 'shortName'"></i></th>
                        <th  (click)="sortEvent('order')">dept_order
                         <i class="fa fa-chevron-up" *ngIf="sortDirection === 'ASC' && sortvalue === 'order'" ></i>
                         <i class="fa fa-chevron-down" *ngIf="sortDirection === 'DASC' && sortvalue === 'order'"></i></th>
                         <th  (click)="sortEvent('report')">report
                            <i class="fa fa-chevron-up" *ngIf="sortDirection === 'ASC' && sortvalue === 'report'" ></i>
                            <i class="fa fa-chevron-down" *ngIf="sortDirection === 'DASC' && sortvalue === 'report'"></i></th>
                        <th  (click)="sortEvent('SC')">sc
                            <i class="fa fa-chevron-up" *ngIf="sortDirection === 'ASC' && sortvalue === 'SC'" ></i>
                            <i class="fa fa-chevron-down" *ngIf="sortDirection === 'DASC' && sortvalue === 'SC'"></i></th>
                        <th  (click)="sortEvent('SR')">sr
                            <i class="fa fa-chevron-up" *ngIf="sortDirection === 'ASC' && sortvalue === 'SR'" ></i>
                            <i class="fa fa-chevron-down" *ngIf="sortDirection === 'DASC' && sortvalue === 'SR'"></i>
                        </th>
                        <th  (click)="sortEvent('validFrom')">valid_from
                            <i class="fa fa-chevron-up" *ngIf="sortDirection === 'ASC' && sortvalue === 'validFrom'" ></i>
                            <i class="fa fa-chevron-down" *ngIf="sortDirection === 'DASC' && sortvalue === 'validFrom'"></i>
                        </th>
                        <th  (click)="sortEvent('validTo')">valid_to
                            <i class="fa fa-chevron-up" *ngIf="sortDirection === 'ASC' && sortvalue === 'validTo'" ></i>
                            <i class="fa fa-chevron-down" *ngIf="sortDirection === 'DASC' && sortvalue === 'validTo'"></i>
                        </th>
                        <th  (click)="sortEvent('inactive')">in_active
                            <i class="fa fa-chevron-up" *ngIf="sortDirection === 'ASC' && sortvalue === 'inactive'" ></i>
                            <i class="fa fa-chevron-down" *ngIf="sortDirection === 'DASC' && sortvalue === 'inactive'"></i>
                        </th>
                        <th>Action</th>
                    </tr>
                </thead> 
                <tbody>
                    <tr *ngFor="let item of departmentDetails ; let i=index">
                        <td>{{ i + pageEvent?.pageIndex * pageEvent?.pageSize + 1 }}</td>
                        <td>{{ item.vitalDepartment }}</td>
                        <td>{{ item.name }}</td>
                        <td>{{ item.shortName }}</td>
                        <td>{{ item.order }}</td>
                        <td>{{ item.report }}</td>
                        <td>{{ item.SC }}</td>
                        <td>{{ item.SR }}</td>
                        <td>{{ item.validFrom }}</td>
                        <td>{{ item.validTo }}</td>
                        <td>{{ item.inactive }}</td>
                        <td>
                         <mat-icon (click)="editDepart(item)">edit</mat-icon>
                         <mat-icon (click)="deleteDepart(item)">delete</mat-icon>
                        </td>
                    </tr>
                </tbody>
             </table>

              <!-- pagination div starts from here -->
             <mat-paginator [length]="length" 
                           [pageSize]="pageSize" 
                           [pageSizeOptions]="pageSizeOptions" 
                           (page)="onPageEvent($event)">
             </mat-paginator>
           
       <!-- pagination div ends here -->
        </div>

    </div>
</div>